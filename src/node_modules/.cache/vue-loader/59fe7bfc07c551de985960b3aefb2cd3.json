{"remainingRequest":"/Users/artemzausajlov/Projects/vue/proxima-frontend/proxima-morda/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/artemzausajlov/Projects/vue/proxima-frontend/proxima-morda/src/components/User.component.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/artemzausajlov/Projects/vue/proxima-frontend/proxima-morda/src/components/User.component.vue","mtime":1536156300000},{"path":"/Users/artemzausajlov/Projects/vue/proxima-frontend/proxima-morda/node_modules/babel-loader/lib/index.js","mtime":499158900000},{"path":"/Users/artemzausajlov/Projects/vue/proxima-frontend/proxima-morda/node_modules/cache-loader/dist/cjs.js","mtime":1535624526000},{"path":"/Users/artemzausajlov/Projects/vue/proxima-frontend/proxima-morda/node_modules/vue-loader/lib/index.js","mtime":499158900000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: 'User',\n    data : function() {\n        return {\n            ws : null,\n            password : null,\n            id : null,\n            virtualMouse : false,\n            observerResize : false,\n            observerScroll : false\n        }\n    },\n    methods : {\n        clickButton : function() {\n            this.password = this.generateID();\n            this.ws.send(JSON.stringify({type : 'newpass', pass : this.password}))\n        },\n        generateID : function () {\n            return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n        },\n        SetCoords : function( arr ) {\n            !this.observerResize ? this.ObserverResize() : false;\n            !this.virtualMouse ? this.virtualMouse = true : false;\n            this.$refs.cursor.style.top = arr[1] + 'px';\n            this.$refs.cursor.style.left = arr[0] + 'px';\n        },\n        ClickElement : function( coordsElement ){\n            let x = coordsElement[0];\n            let y = coordsElement[1];\n            let element = document.elementFromPoint( x,y );\n            element.click();\n        },\n        ObserverResize : function() {\n            let sizeWin = window.innerWidth;\n            this.ws.send(JSON.stringify({ type : 'clientWidth', value : sizeWin }));\n            window.addEventListener('resize', function( event ) {\n                this.ws.send(JSON.stringify({ type : 'clientWidth', value : event.srcElement.innerWidth }))\n            });\n            this.observerResize = true;\n        },\n        ObserverScroll : function() {\n            let sizeScroll = window.scrollY;\n            this.ws.send(JSON.stringify({ type : 'scroll', value : sizeScroll }))\n        },\n        SetScroll : function( sizeScroll ) {\n            window.scrollY = sizeScroll;\n        }\n\n    },\n    mounted : function() {\n        const self = this;\n        this.ws = new WebSocket('ws://localhost:8081');\n        this.ws.onmessage = function( message ) {\n            var res = JSON.parse(message.data);\n            let type = res[0];\n            switch (type) {\n                case 'confirm' : self.id = res[1]; break;\n                case 'info' : break;\n                case 'coords' : self.SetCoords( res[1] ); break;\n                case 'click' : self.ClickElement( res[1] ); break;\n                case 'scroll' : self.SetScroll( res[1] ); break;\n            }\n        }\n  }\n}\n",{"version":3,"sources":["User.component.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.component.vue","sourceRoot":"components","sourcesContent":["<template>\n    <div class=\"user\" ref=\"user\" @resize=\"Resize()\">\n        <h3 v-if=\"id\">ID : {{id}}</h3>\n        <div class=\"cursor\" ref=\"cursor\" ></div>\n        <button @click=\"clickButton\">генерировать пароль</button>\n        <h3>{{password}}</h3>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'User',\n    data : function() {\n        return {\n            ws : null,\n            password : null,\n            id : null,\n            virtualMouse : false,\n            observerResize : false,\n            observerScroll : false\n        }\n    },\n    methods : {\n        clickButton : function() {\n            this.password = this.generateID();\n            this.ws.send(JSON.stringify({type : 'newpass', pass : this.password}))\n        },\n        generateID : function () {\n            return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n        },\n        SetCoords : function( arr ) {\n            !this.observerResize ? this.ObserverResize() : false;\n            !this.virtualMouse ? this.virtualMouse = true : false;\n            this.$refs.cursor.style.top = arr[1] + 'px';\n            this.$refs.cursor.style.left = arr[0] + 'px';\n        },\n        ClickElement : function( coordsElement ){\n            let x = coordsElement[0];\n            let y = coordsElement[1];\n            let element = document.elementFromPoint( x,y );\n            element.click();\n        },\n        ObserverResize : function() {\n            let sizeWin = window.innerWidth;\n            this.ws.send(JSON.stringify({ type : 'clientWidth', value : sizeWin }));\n            window.addEventListener('resize', function( event ) {\n                this.ws.send(JSON.stringify({ type : 'clientWidth', value : event.srcElement.innerWidth }))\n            });\n            this.observerResize = true;\n        },\n        ObserverScroll : function() {\n            let sizeScroll = window.scrollY;\n            this.ws.send(JSON.stringify({ type : 'scroll', value : sizeScroll }))\n        },\n        SetScroll : function( sizeScroll ) {\n            window.scrollY = sizeScroll;\n        }\n\n    },\n    mounted : function() {\n        const self = this;\n        this.ws = new WebSocket('ws://localhost:8081');\n        this.ws.onmessage = function( message ) {\n            var res = JSON.parse(message.data);\n            let type = res[0];\n            switch (type) {\n                case 'confirm' : self.id = res[1]; break;\n                case 'info' : break;\n                case 'coords' : self.SetCoords( res[1] ); break;\n                case 'click' : self.ClickElement( res[1] ); break;\n                case 'scroll' : self.SetScroll( res[1] ); break;\n            }\n        }\n  }\n}\n</script>\n\n<style scoped>\n    h3 {\n        font-size: 15px;\n        padding-left: 15px;\n    }\n\n    .cursor {\n        width: 15px;\n        height: 15px;\n        position: fixed;\n        border-radius: 50%;\n        background-color: green;\n    }\n\n    .user {\n        position: absolute;\n        width: 100%;\n        height: 300%;\n        top: 0;\n        left: 0;\n        background-color: white;\n    }\n</style>\n\n\n"]}]}